/*! For license information please see olo.js.LICENSE.txt */
(()=>{var e,t,r,n,o={213:(e,t,r)=>{const n=e.exports={};n.expression=r(731),n.document=r(656),n.Store=r(453),n.MemoryStore=r(969),n.HTTPStore=r(542),n.BrowserStore=r(448),n.Router=r(551),n.HyperStore=r(538),n.SubStore=r(46)},656:(e,t,r)=>{const n=r(731);function o(e){e=String(e);const t=[],r=(e=e.replace(/<%([\s\S]+?)%>/g,((e,r)=>{t.length;let o=n.parse(r);return o.source=r,t.push(o),"<%%>"}))).split("<%%>");return async e=>{const o="function"==typeof(e=Object.assign(Object.create(Object.getPrototypeOf(e)),e)).__renderexp__?async t=>await e.str(await e.__renderexp__(t)):async t=>await e.str(t);e.__str__=r[0]||"";for(let i=0;i<t.length;i++){let s=t[i];try{var a=await s(e)}catch(t){a=await e.undefined("failure",t)}e.__str__+=await n.types.unwrap(await o(a))+r[i+1]}return"function"==typeof e.__renderdoc__&&(e.__str__=await n.types.unwrap(await e.str(await e.__renderdoc__(e.__str__)))),Object.assign({},e)}}function a(...e){return n.createContext(i,...e)}const i={};class s{constructor(e,t,r=""){this.store=e,this.$cache=new Map,this.path=this.store.normalizePath(t),this.source=String(r),this.$evaluate_cache=null}get evaluate(){return this.$evaluate_cache||(this.$evaluate_cache=o(this.source)),this.$evaluate_cache}createContext(...e){const t=a(...e);return t.__path__=this.path,t.import=async(e,t={})=>{const r=this.store.resolvePath(this.path,e);let n=this.$cache.get(r);n||(n=await c(this.store,r),n.$cache=this.$cache,this.$cache.set(r,n));const o=n.createContext(t);return await n.evaluate(o)},t}}async function c(e,t){const r=await e.read(t);return new s(e,t,r)}e.exports={parse:o,createContext:a,Document:s,load:c}},731:(e,t,r)=>{const n=r(524);r(26).matchIdentifier=e=>/^[a-z_A-Z]+[a-z_A-Z0-9]*$/.test(e),t.modules=r(870),t.modules.markdown=()=>Promise.all([r.e(709),r.e(210)]).then(r.t.bind(r,172,23)),t.parse=function(e){try{return n.parse(e)}catch(e){return()=>new n.types.Undefined("Syntax",e)}},t.createContext=n.createContext,t.types=n.types},542:(e,t,r)=>{r(328),r(975);const n=r(453);e.exports=class extends n{constructor(e,t={}){if(super(),"http:/"===e.slice(0,6).toLowerCase())this.rootURL="http:/"+this.normalizePath(`${e.slice(6)}/.`);else{if("https:/"!==e.slice(0,7).toLowerCase())throw new Error(`Invalid http URL: ${e}`);this.rootURL="https:/"+this.normalizePath(`${e.slice(7)}/.`)}this.headers=t.headers||{},this.extension=function(e=""){for(;"."===e[0];)e=e.slice(1);return""===e?e:`.${e}`}(t.extension)}_resolveURL(e){return this.rootURL+this.normalizePath(e+this.extension)}async _getHeaders(e,t){const r="function"==typeof this.headers?await this.headers(this.normalizePath(e)):this.headers;return Object.assign({},r,t)}async read(e){if(/^([a-zA-Z][a-zA-Z0-9+.-]*):\/(.*)$/.test(e))throw new this.constructor.ReadOperationNotAllowedError(e);const t=this._resolveURL(e),r=await fetch(t,{method:"get",mode:"cors",headers:await this._getHeaders(e,{Accept:"text/*","Access-Control-Allow-Origin":"*"})});switch(r.status){case 200:return await r.text();case 403:throw new n.ReadPermissionDeniedError(e);case 404:return"";case 405:case 501:throw new n.ReadOperationNotAllowedError(e);default:let t=await r.text();throw new Error(t)}}async write(e,t){const r=this._resolveURL(e),o=await fetch(r,{method:"put",mode:"cors",headers:await this._getHeaders(e,{Accept:"text/*","Content-Type":"text/plain","Access-Control-Allow-Origin":"*"}),body:String(t)});switch(o.status){case 200:case 201:break;case 403:throw new n.WritePermissionDeniedError(e);case 405:throw new n.WriteOperationNotAllowedError(e);default:let t=await o.text();throw new Error(t)}}async delete(e){const t=this._resolveURL(e),r=await fetch(t,{method:"delete",mode:"cors",headers:await this._getHeaders(e,{Accept:"text/*","Content-Type":"text/plain","Access-Control-Allow-Origin":"*"})});switch(r.status){case 200:break;case 403:throw new n.WritePermissionDeniedError(e);case 405:throw new n.WriteOperationNotAllowedError(e);default:let t=await r.text();throw new Error(t)}}}},538:(e,t,r)=>{const n=r(453);e.exports=class extends n{constructor(e){super(),this._stores={};for(let t in e){const r=e[t];a(t)&&o(r)&&(this._stores[t.toLowerCase()]=r)}}async read(e){const{scheme:t,path:r}=s(e,"home"),n=this._stores[t];return n?await n.read(r):""}async write(e,t){const{scheme:r,path:o}=s(e,"home"),a=this._stores[r];if(!a)throw new n.WriteOperationNotAllowedError(this.normalizePath(e));await a.write(o,t)}async delete(e){const{scheme:t,path:r}=s(e,"home"),o=this._stores[t];if(!o)throw new n.WriteOperationNotAllowedError(this.normalizePath(e));await o.delete(r)}normalizePath(e){const{scheme:t,path:r}=s(e,"home");return`${t}:/${super.normalizePath(r)}`}resolvePath(e,t){if(i(t))return this.normalizePath(t);{const r=s(e,"home");return`${r.scheme}:/${(new n).resolvePath(r.path,t)}`}}};const o=e=>"object"==typeof e&&"function"==typeof e.read,a=e=>/^[a-zA-Z][a-zA-Z0-9+-.]*$/.test(e),i=e=>/^[a-zA-Z][a-zA-Z0-9+-.]*:\/.*$/.test(e),s=(e,t)=>{const r=e.match(/^([a-zA-Z][a-zA-Z0-9+-.]*):\/(.*)$/);return{scheme:r?r[1].toLowerCase():t,path:r?r[2]:e}}},969:(e,t,r)=>{r(975);const n=r(453);e.exports=class extends n{constructor(e={}){super(),this._documents=new Map;for(let t in e)this._documents.set(this.normalizePath(t),String(e[t]))}read(e){const t=this.normalizePath(e);return this._documents.get(t)||""}write(e,t){const r=this.normalizePath(e);return this._documents.set(r,String(t))}delete(e){const t=this.normalizePath(e);return this._documents.delete(t)}}},551:(e,t,r)=>{const n=r(453);e.exports=class extends n{constructor(e){super(),this._routes={};for(let t in e){const r=e[t];if(o(r)){const e=this.normalizePath(`${t}/`);this._routes[e]=r}}}async read(e){const[t,r]=this._match(e);return t?await t.read(r):await super.read(e)}async write(e,t){const[r,n]=this._match(e);return r?await r.write(n,t):await super.write(e,t)}async delete(e){const[t,r]=this._match(e);return t?await t.delete(r):await super.delete(e)}_match(e){const t=this.normalizePath(e);return this._iterMatches(t).next().value||[null,t]}*_iterMatches(e){for(let[t,r]of this._iterRoutes())if(0===e.indexOf(t)){const n=e.slice(t.length-1);yield[r,n]}}*_iterRoutes(){const e=Object.keys(this._routes).sort().reverse();for(let t of e)yield[t,this._routes[t]]}};const o=e=>"object"==typeof e&&"function"==typeof e.read&&"function"==typeof e.write&&"function"==typeof e.delete},453:(e,t,r)=>{const n=r(975);class o{async read(e){return""}async write(e,t){throw new this.constructor.WriteOperationNotAllowedError(e)}async delete(e){throw new this.constructor.WriteOperationNotAllowedError(e)}normalizePath(e){return n.normalize(`/${e}`)}resolvePath(e,t){return"/"===t[0]?this.normalizePath(t):"/"===e.slice(-1)?this.normalizePath(`${e}/${t}`):this.normalizePath(`${e}/../${t}`)}}o.Error=class extends Error{},o.PermissionDeniedError=class extends o.Error{constructor(e,t){super(`Permission denied: ${e} ${t}`)}},o.ReadPermissionDeniedError=class extends o.PermissionDeniedError{constructor(e){super("READ",e)}},o.WritePermissionDeniedError=class extends o.PermissionDeniedError{constructor(e){super("WRITE",e)}},o.OperationNotAllowedError=class extends o.Error{constructor(e,t){super(`Operation not allowed: ${e} ${t}`)}},o.ReadOperationNotAllowedError=class extends o.OperationNotAllowedError{constructor(e){super("READ",e)}},o.WriteOperationNotAllowedError=class extends o.OperationNotAllowedError{constructor(e){super("WRITE",e)}},e.exports=o},46:(e,t,r)=>{const n=r(453);e.exports=class extends n{constructor(e,t){super(),this.rootStore=e,this.rootPath=this.rootStore.normalizePath(t)}_fullPath(e){const t=this.normalizePath(e);return this.rootStore.normalizePath(`${this.rootPath}${t}`)}read(e){const t=this._fullPath(e);return this.rootStore.read(t)}write(e,t){const r=this._fullPath(e);return this.rootStore.write(r,t)}delete(e){const t=this._fullPath(e);return this.rootStore.delete(t)}}},524:(e,t,r)=>{t.types=r(773);const n=r(918),o=r(162);t.parse=function(e){const t=n(e);return async(e={})=>(await t(e)).unwrap()},t.createContext=function(...e){let t=Object.create(o);for(let r of e)t=Object.assign(Object.create(t),r);return t}},162:(e,t,r)=>{const n=r(773);e.exports={async require(...e){const t=r(870),o=new n.Tuple(...e),a=await o.imapAsync((async e=>{const r=await t[e](),o=r.default||r;return"function"==typeof o?o(n):o}));return a.normalize()},type:(...e)=>new n.Tuple(...e).imapSync((e=>e.typeName)).normalize(),get this(){return new n.Namespace(this)},TRUE:new n.Bool(!0),FALSE:new n.Bool(!1),bool:(...e)=>new n.Bool(new n.Tuple(...e).toBoolean()),not:(...e)=>new n.Bool(!new n.Tuple(...e).toBoolean()),enum:(...e)=>new n.Tuple(...e).imapSync((e=>{if(e instanceof n.Numb){let t=n.unwrap(e),r=new n.Tuple;for(let e=0;e<t;e++)r=new n.Tuple(r,e);return r}return e instanceof n.Namespace?new n.Tuple(...e.domain):e instanceof n.Sequence?new n.Tuple(...e.image):e instanceof n.Undefined?new n.Tuple(e.type,...e.args):new n.Undefined("Enumeration",e)})).normalize(),tsize(...e){const t=Array.from(new n.Tuple(...e)).length;return new n.Numb(t)},msize:(...e)=>new n.Tuple(...e).imapSync((e=>e instanceof n.Mapping?e.size:new n.Undefined("Size",e))).normalize(),async str(...e){const t=new n.Tuple(...e),r=await t.imapAsync((async e=>{if(e instanceof n.Namespace){const t=e.apply("__str__");if(t instanceof n.Text)return t;if(t instanceof n.Func)return await t.apply(e)}return e}));return new n.Text(r.toString())},parent:(...e)=>new n.Tuple(...e).imapSync((e=>{if(e instanceof n.Namespace){const t=e.vmapSync(Object.getPrototypeOf);if(t instanceof n.Namespace)return t}return new n.Undefined("Namespace")})).normalize(),own:(...e)=>new n.Tuple(...e).imapSync((e=>e instanceof n.Namespace?e.vmapSync((e=>Object.assign(Object.create(null),e))):new n.Undefined("Namespace"))).normalize(),undefined:(e,...t)=>new n.Undefined(e,...t)}},918:(e,t,r)=>{const{matchIdentifier:n}=r(26),{Parser:o,ASTNode:a}=r(797),i=r(773),s=(e,t,...r)=>{const n=new i.Undefined(t,...r);return n.position=e,n};class c extends a{get name(){return"BinaryOperation"}get leftHandOperand(){return this.children[0]}get rightHandOperand(){return this.children[1]}undefined(e,t){return s(this.position,this.name,e,t)}async evaluateInNameDomain(e){const t=await this.leftHandOperand.evaluateInNameDomain(e),r=await this.rightHandOperand.evaluateInNameDomain(e);return this.undefined(t,r)}}class u extends a{get name(){return"UnaryOperation"}get operand(){return this.children[0]}undefined(e){return s(this.position,this.name,e)}async evaluateInNameDomain(e){const t=await this.operand.evaluateInNameDomain(e);return this.undefined(t)}}class l extends a{get name(){return"Leaf"}undefined(e){return s(this.position,this.name,e)}async evaluateInNameDomain(e){const t=await this.evaluate(e);return this.undefined(t)}async evaluate(e={}){return i.wrap(this.value)}}class h extends l{get name(){return"StringLiteral"}async evaluate(e={}){return new i.Text(this.value)}}class f extends c{get name(){return"LabellingOperation"}async evaluate(e){const t=await this.leftHandOperand.evaluateInNameDomain(e),r=await this.rightHandOperand.evaluate(e);return t instanceof i.Undefined?this.undefined(t,r):(this.constructor.defineNames(e,t,r),r)}static defineNames(e,t,r){const n=Array.from(t).map(i.unwrap),o=Array.from(r).map(i.unwrap);o.length>n.length&&(o[n.length-1]=new i.Tuple(...o.slice(n.length-1)));for(let t=0;t<n.length;t++)e[n[t]]=t<o.length?i.unwrap(o[t]):null}}class d extends c{get name(){return"ApplyOperation"}async evaluate(e){const t=await this.leftHandOperand.evaluate(e),r=await this.rightHandOperand.evaluate(e);return await this.apply(t,r)}apply(e,t){return e.imapAsync((async r=>{if(!(r instanceof i.Applicable))return this.undefined(e,t);try{return i.wrap(await r.apply(...t))}catch(e){return s(this.position,"Term",e)}}))}}class p extends c{get name(){return"ArithmeticOperation"}async evaluate(e,t,r){const n=await this.leftHandOperand.evaluate(e),o=await this.rightHandOperand.evaluate(e),a=Array.from(n.iterPairs(o)),s=[];for(let[e,n]of a){const o=e instanceof i.Namespace?e.apply(t):null;s.push(o instanceof i.Func?await o.apply(e,n):r(e,n))}return 1===s.length?s[0]:new i.Tuple(...s)}}class m extends c{get name(){return"ComparisonOperation"}async evaluate(e){const t=await this.leftHandOperand.evaluate(e),r=await this.rightHandOperand.evaluate(e);if(t instanceof i.Namespace){let e=await t.apply("__cmp__");if(e instanceof i.Func)return i.unwrap(await e.apply(t,r))}return t.compare(r)}}const y=new o({binaryOperations:{",":{precedence:10,Node:class extends c{get name(){return"PairingOperation"}async evaluateInNameDomain(e){const t=await this.leftHandOperand.evaluateInNameDomain(e),r=await this.rightHandOperand.evaluateInNameDomain(e);return(t instanceof i.Text||t instanceof i.Tuple)&&(r instanceof i.Text||r instanceof i.Tuple)?new i.Tuple(t,r):this.undefined(t,r)}async evaluate(e){const t=await this.leftHandOperand.evaluate(e),r=await this.rightHandOperand.evaluate(e);return new i.Tuple(t,r)}}},":":{precedence:12,Node:f},"=":{precedence:12,Node:class extends f{get name(){return"AssignmentOperation"}async evaluate(e){const t=await super.evaluate(e);return t instanceof i.Undefined&&t.position===this.position?t:new i.Tuple}}},"=>":{precedence:13,Node:class extends d{get name(){return"MapOperation"}async evaluate(e){const t=await this.leftHandOperand.evaluate(e),r=await this.rightHandOperand.evaluate(e);return t.imapAsync((e=>this.apply(r,e)))}}},">>":{precedence:14,Node:class extends d{get name(){return"PipeOperation"}async evaluate(e){const t=await this.leftHandOperand.evaluate(e),r=await this.rightHandOperand.evaluate(e);return new i.Func((async(...e)=>{const n=new i.Tuple(...e),o=await this.apply(t,n);return await this.apply(r,o)}))}}},"<<":{precedence:14,Node:class extends d{get name(){return"ComposeOperation"}async evaluate(e){const t=await this.leftHandOperand.evaluate(e),r=await this.rightHandOperand.evaluate(e);return new i.Func((async(...e)=>{const n=new i.Tuple(...e),o=await this.apply(r,n);return await this.apply(t,o)}))}},right:!0},"->":{precedence:15,Node:class extends c{get name(){return"FunctionDefinition"}async evaluate(e){const t=await this.leftHandOperand.evaluateInNameDomain(e);if(t instanceof i.Undefined)return this.undefined(t,this.rightHandOperand);const r=async(...n)=>{const o=Object.create(e);return o.self=r,f.defineNames(o,t,n),await this.rightHandOperand.evaluate(o)};return new i.Func(r)}},right:!0},";":{precedence:21,Node:class extends c{get name(){return"AlternativeOperation"}async evaluate(e){const t=await this.leftHandOperand.evaluate(e);return t instanceof i.Undefined?await this.rightHandOperand.evaluate(e):t}}},"?":{precedence:22,Node:class extends c{get name(){return"ConditionalOperation"}async evaluate(e){return(await this.leftHandOperand.evaluate(e)).toBoolean()?await this.rightHandOperand.evaluate(e):s(this.position,"Term")}}},"|":{precedence:23,Node:class extends c{get name(){return"OrOperation"}async evaluate(e){const t=await this.leftHandOperand.evaluate(e);return t.toBoolean()?t:await this.rightHandOperand.evaluate(e)}}},"&":{precedence:23,Node:class extends c{get name(){return"AndOperation"}async evaluate(e){const t=await this.leftHandOperand.evaluate(e);return t.toBoolean()?await this.rightHandOperand.evaluate(e):t}}},"==":{precedence:24,Node:class extends m{get name(){return"EqOperation"}async evaluate(e){const t=await super.evaluate(e);return new i.Bool(0===t)}}},"!=":{precedence:24,Node:class extends m{get name(){return"NeOperation"}async evaluate(e){const t=await super.evaluate(e);return new i.Bool(0!==t)}}},"<":{precedence:24,Node:class extends m{get name(){return"LtOperation"}async evaluate(e){const t=await super.evaluate(e);return new i.Bool(t<0)}}},"<=":{precedence:24,Node:class extends m{get name(){return"LeOperation"}async evaluate(e){const t=await super.evaluate(e);return new i.Bool(t<=0)}}},">":{precedence:24,Node:class extends m{get name(){return"GtOperation"}async evaluate(e){const t=await super.evaluate(e);return new i.Bool(t>0)}}},">=":{precedence:24,Node:class extends m{get name(){return"GeOperation"}async evaluate(e){const t=await super.evaluate(e);return new i.Bool(t>=0)}}},"+":{precedence:25,Node:class extends p{get name(){return"SumOperation"}async evaluate(e){return await super.evaluate(e,"__add__",((e,t)=>e.typeName===t.typeName&&"function"==typeof e.sum?e.sum(t):this.undefined(e,t)))}}},"-":{precedence:25,Node:class extends p{get name(){return"SubOperation"}async evaluate(e){return await super.evaluate(e,"__sub__",((e,t)=>e.typeName===t.typeName&&"function"==typeof e.sum&&"function"==typeof t.negate?e.sum(t.negate()):this.undefined(e,t)))}}},"*":{precedence:26,Node:class extends p{get name(){return"MulOperation"}async evaluate(e){return await super.evaluate(e,"__mul__",((e,t)=>e.typeName===t.typeName&&"function"==typeof e.mul?e.mul(t):this.undefined(e,t)))}}},"/":{precedence:26,Node:class extends p{get name(){return"DivOperation"}async evaluate(e){return await super.evaluate(e,"__div__",((e,t)=>e.typeName===t.typeName&&"function"==typeof e.mul&&"function"==typeof t.invert?e.mul(t.invert()):this.undefined(e,t)))}}},"%":{precedence:26,Node:class extends p{get name(){return"ModOperation"}async evaluate(e){return await super.evaluate(e,"__mod__",((e,t)=>e instanceof i.Numb&&t instanceof i.Numb?i.wrap(i.unwrap(e)%i.unwrap(t)):this.undefined(e,t)))}}},"^":{precedence:27,Node:class extends p{get name(){return"PowOperation"}async evaluate(e){return await super.evaluate(e,"__pow__",((e,t)=>e.typeName===t.typeName&&"function"==typeof e.pow?e.pow(t):this.undefined(e,t)))}}},".":{precedence:30,Node:class extends c{get name(){return"SubcontextingOperation"}async evaluate(e){const t=await this.leftHandOperand.evaluate(e);return await t.imapAsync((async e=>e instanceof i.Namespace?await e.vmapAsync((async e=>await this.rightHandOperand.evaluate(e))):this.undefined(e,this.rightHandOperand)))}}},"":{precedence:30,Node:d}},unaryOperations:{"+":{Node:class extends u{get name(){return"IdentityOperation"}async evaluate(e){return this.operand.evaluate(e)}}},"-":{Node:class extends u{get name(){return"NegationOperation"}async evaluate(e){return(await this.operand.evaluate(e)).imapSync((e=>"function"==typeof e.negate?e.negate():this.undefined(e)))}}}},groupingOperations:{"[]":{Node:class extends u{get name(){return"ListDefinition"}async evaluate(e){const t=await this.operand.evaluate(e);return new i.List(Array.from(t))}}},"{}":{Node:class extends u{get name(){return"NamespaceDefinition"}async evaluate(e){const t=Object.assign(Object.create(e),{});return await this.operand.evaluate(t),new i.Namespace(t)}}}},literals:{void:{Node:class extends l{get name(){return"VoidLiteral"}async evaluate(e){return new i.Tuple}}},identifier:{Node:class extends l{get name(){return"NameReference"}async evaluateInNameDomain(e){return new i.Text(this.value)}async evaluate(e){const t=this.value;if(!n(t))return this.undefined(t);const r=e[t];return r===Object.prototype[t]?this.undefined(t):i.wrap(r)}}},string1:{Node:h},string2:{Node:h},string3:{Node:class extends u{get name(){return"StringTemplate"}async evaluate(e){let t=this.value;const r=[];t=t.replace(/\{%([\s\S]+?)%}/g,((e,t)=>{const n=r.length;return r.push(y.parse(t)),"${"+n+"}"}));for(let n=0;n<r.length;n++){const o=await r[n].evaluate(e);t=t.replace("${"+n+"}",o.toString())}return new i.Text(t)}}},number:{Node:class extends l{get name(){return"NumberLiteral"}async evaluate(e={}){return new i.Numb(this.value)}}}}});e.exports=e=>{const t=y.parse(e);return(e={})=>t.evaluate(e)}},26:e=>{class t{constructor(e,t,r,n){this.lexer=e,this.type=t,this.value=r,this.position=n}matchSymbol(e){return this.type===t.SYMBOL&&this.value===e}matchSign(){return this.matchSymbol("+")||this.matchSymbol("-")}matchIdentifier(){return this.type===t.IDENTIFIER&&!this.lexer.binaryOperators.has(this.value)}matchBinaryOperator(){return(this.type===t.SYMBOL||this.type===t.IDENTIFIER)&&this.lexer.binaryOperators.has(this.value)}matchUnaryOperator(){return(this.type===t.SYMBOL||this.type===t.IDENTIFIER)&&this.lexer.unaryOperators.has(this.value)}matchOpenBracket(){return this.matchSymbol("(")||this.matchSymbol("[")}matchNumberLiteral(){return this.type===t.NUMBER}matchStringLiteral(){return this.type===t.STRING}matchLiteral(){return this.type===t.NUMBER||this.type===t.STRING}}t.SYMBOL=0,t.NUMBER=1,t.STRING=2,t.IDENTIFIER=3;class r{constructor(e,t){this.source=e,this.index=t}getLocation(){const e=this.source.slice(0,this.index).split("\n");return[e.length,e.pop().length]}toString(){const[e,t]=this.getLocation();return`@${e}:${t}`}}class n extends Error{constructor(e,t,n){const o=new r(t,n);super(`${e} ${o}`),this.position=o}}e.exports=class{constructor(e){this.binaryOperators=new Set(e.binaryOperators),this.unaryOperators=new Set(e.unaryOperators);const t=e=>!this.matchIdentifierStart(e);this.SYMBOLS=new Set(["{","[","(",")","]","}"].concat(e.binaryOperators.filter(t)).concat(e.unaryOperators.filter(t)))}matchSpace(e){return e&&e.match(/^\s$/)}matchQuote(e){return e&&e.match(/^["'`]$/)}matchIdentifierStart(e){return e&&e.match(/^[a-z_A-Z]$/)}matchIdentifierPart(e){return e&&e.match(/^[a-z_A-Z0-9]$/)}matchDecimalDigit(e){return e&&e.match(/^[0-9]$/)}matchSign(e){return"+"===e||"-"===e}matchCommentStart(e){return"#"===e}matchSymbol(e){return this.SYMBOLS.has(e)}*tokenize(e){const r=(t,r,n)=>new this.constructor.Token(this,t,r,new this.constructor.Position(e,n)),n=(t,r)=>new this.constructor.SyntaxError(t,e,r);for(var o=0,a=e.length;;){for(;this.matchSpace(e[o]);)o++;if(o>=a)break;if(this.matchQuote(e[o])){let i="",s=e[o];for(o++;e[o]!==s;){if(o>=a)throw n("Closing quote expected",o);i+=e[o],o++}let c=r(t.STRING,i,o);c.quoteSymbol=s,yield c,o++}else if(this.matchIdentifierStart(e[o])){let n=e[o];for(o++;this.matchIdentifierPart(e[o]);)n+=e[o],o++;yield r(t.IDENTIFIER,n,o)}else if(this.matchDecimalDigit(e[o])){let a=e[o];for(o++;this.matchDecimalDigit(e[o]);)a+=e[o],o++;if("."===e[o])for(a+=e[o],o++;this.matchDecimalDigit(e[o]);)a+=e[o],o++;if("e"===e[o]||"E"===e[o]){if(a+="E",o++,"+"!==e[o]&&"-"!==e[o]||(a+=e[o],o++),!this.matchDecimalDigit(e[o]))throw n("Expected exponent value",o);for(a+=e[o],o++;this.matchDecimalDigit(e[o]);)a+=e[o],o++}if(this.matchIdentifierStart(e[o]))throw n("Invalid number",o-1);if("."===e[o])throw n("Unexpected period",o);yield r(t.NUMBER,Number(a),o)}else if(this.matchCommentStart(e[o]))for(o++;"\n"!==e[o]&&o<a;)o++;else if(this.matchSymbol(e[o]+e[o+1]))yield r(t.SYMBOL,e[o]+e[o+1],o),o+=2;else{if(!this.matchSymbol(e[o]))throw n(`Unexpected character '${e[o]}'`,o);yield r(t.SYMBOL,e[o],o),o++}}}static get Position(){return r}static get SyntaxError(){return n}static get Token(){return t}static matchIdentifier(e){return/^[a-z_A-Z]+[a-z_A-Z0-9]*$/.test(e)}}},870:(e,t,r)=>{e.exports={debug:()=>r.e(334).then(r.t.bind(r,553,23)),dict:()=>r.e(585).then(r.t.bind(r,932,23)),json:()=>r.e(979).then(r.t.bind(r,622,23)),list:()=>r.e(684).then(r.t.bind(r,740,23)),math:()=>r.e(367).then(r.t.bind(r,954,23)),path:()=>r.e(916).then(r.t.bind(r,183,23)),text:()=>r.e(684).then(r.t.bind(r,823,23)),time:()=>r.e(950).then(r.t.bind(r,873,23))}},797:(e,t,r)=>{const n=r(26);class o{constructor(...e){this.tokens=e,this.index=0}inc(e=1){return this.index+=e,this}get(e=0){return this.tokens[this.index+e]}get last(){return this.tokens[this.tokens.length-1]}done(){return this.index>=this.tokens.length}}class a{constructor(e){this.binaryOperations=e,this.output=[],this.operators=[]}pushOperand(e){this.output.push(e)}pushOperator(e,t){const r=new i(e,this.binaryOperations[e],t);for(;this.operators.length>0&&this.lastOperator.preceeds(r);)this.output.push(this.operators.pop());this.operators.push(r)}done(){for(;this.operators.length>0;)this.output.push(this.operators.pop())}get lastOperator(){return this.operators[this.operators.length-1]||null}get top(){return this.output[this.output.length-1]}pop(){return this.output.pop()}}class i{constructor(e,t,r){this.symbol=e,this.options=t,this.position=r}get precedence(){return this.options.precedence}get isRightAssociative(){return Boolean(this.options.right)}get isLeftAssociative(){return!this.isRightAssociative}preceeds(e){return this.precedence>e.precedence||this.precedence===e.precedence&&e.isLeftAssociative}}class s{constructor(e,t,r,...n){this.position=e,this.type=t,this.value=r,this.children=n}}e.exports={Parser:class{constructor(e){this.options=e,this.lexer=new n({binaryOperators:Object.keys(e.binaryOperations),unaryOperators:Object.keys(e.unaryOperations)})}tokenize(e){return new o(...this.lexer.tokenize(e))}createSyntaxError(e,t){return new n.SyntaxError(e,t.position.source,t.position.index)}createBinaryOperation(e,t,r,n){return new(this.options.binaryOperations[e].Node||s)(n,"binary-operation",e,t,r)}createUnaryOperation(e,t,r){return new(this.options.unaryOperations[e].Node||s)(r,"unary-operation",e,t)}createGroupingOperation(e,t,r){return new(this.options.groupingOperations[e].Node||s)(r,"grouping-operation",e,t)}createLiteral(e,t,r){return new(this.options.literals[e].Node||s)(r,e,t)}parseExpression(e,t){if(t()){const t=e.get()||e.last||e.tail;return e.inc(),this.createLiteral("void",null,t.position)}const r=new a(this.options.binaryOperations);for(r.pushOperand(this.parseOperand(e));!t();){if(e.get()&&e.get().matchBinaryOperator()){if(r.pushOperator(e.get().value,e.get().position),e.inc(),t())throw this.createSyntaxError("Operand expected",e.get()||e.tail)}else r.pushOperator("",e.get(-1).position);r.pushOperand(this.parseOperand(e))}return e.inc(),r.done(),this.popNode(r)}popNode(e){if(e.top instanceof i){const t=e.pop(),r=this.popNode(e),n=this.popNode(e);return this.createBinaryOperation(t.symbol,n,r,t.position)}return e.pop()}parseOperand(e){var t,r,n=e.get();if(!n)throw this.createSyntaxError("Operand expected",e.tail);if(n.matchUnaryOperator()&&(t=n,n=e.inc().get()),n.matchNumberLiteral())r=this.createLiteral("number",n.value,n.position),e.inc();else if(n.matchStringLiteral())"'"===n.quoteSymbol?r=this.createLiteral("string1",n.value,n.position):'"'===n.quoteSymbol?r=this.createLiteral("string2",n.value,n.position):"`"===n.quoteSymbol&&(r=this.createLiteral("string3",n.value,n.position)),e.inc();else if(n.matchIdentifier())r=this.createLiteral("identifier",n.value,n.position),e.inc();else if(n.matchSymbol("("))e.inc(),r=this.parseExpression(e,(()=>e.get()&&e.get().matchSymbol(")")));else if(n.matchSymbol("[")){const t=n.position;e.inc();let o=this.parseExpression(e,(()=>e.get()&&e.get().matchSymbol("]")));r=this.createGroupingOperation("[]",o,t)}else{if(!n.matchSymbol("{"))throw this.createSyntaxError("Operand expected",n);{const t=n.position;e.inc();let o=this.parseExpression(e,(()=>e.get()&&e.get().matchSymbol("}")));r=this.createGroupingOperation("{}",o,t)}}return t?this.createUnaryOperation(t.value,r,t.position):r}parse(e){var t=this.tokenize(e);return t.tail={position:new n.Position(e,e.length)},this.parseExpression(t,(()=>t.done()))}static get Position(){return n.Position}},ASTNode:s}},773:(e,t,r)=>{const{matchIdentifier:n}=r(26);class o{*items(){}*values(){for(let e of this.items())yield g(e)}*[Symbol.iterator](){for(let e of this.values())yield e}*iterPairs(e){const t=this.items(),r=e.items();for(;;){let e=t.next(),n=r.next();if(e.done&&n.done)break;yield[v(e.value),v(n.value)]}}imapSync(e){}vmapSync(e){}async imapAsync(e){}async vmapAsync(e){}toBoolean(){}toString(){}get typeName(){return"Term"}isNothing(){}normalize(){}unwrap(){}}class a extends o{constructor(e){super(),this.$value=e}*items(){yield this}imapSync(e){return v(e(this))}vmapSync(e){return v(e(g(this)))}async imapAsync(e){return v(await e(this))}async vmapAsync(e){return v(await e(g(this)))}toBoolean(){return!0}toString(){return`[[${this.typeName}]]`}get typeName(){return"Item"}isNothing(){return!1}normalize(){return this}unwrap(){return this.$value}compare(e,t){return e instanceof this.constructor?"function"==typeof t?t(this.unwrap(),e.unwrap()):this.unwrap()===e.unwrap()?0:NaN:e.isNothing()?1:NaN}}class i extends o{constructor(...e){super(),this._items=e.map(v)}*items(){for(let e of this._items)for(let t of e.items())yield t}imapSync(e){const t=Array.from(this.items()).map(e);return new this.constructor(...t.map(v))}vmapSync(e){const t=Array.from(this.values()).map(e);return new this.constructor(...t.map(v))}async imapAsync(e){const t=await Promise.all(Array.from(this.items()).map(e));return new this.constructor(...t.map(v))}async vmapAsync(e){const t=await Promise.all(Array.from(this.values()).map(e));return new this.constructor(...t.map(v))}toBoolean(){for(let e of this.items())if(e.toBoolean())return!0;return!1}toString(){let e="";for(let t of this.items())e+=t.toString();return e}get typeName(){const e=this.items(),t=e.next();return t.done?"Nothing":e.next().done?t.value.typeName:"Tuple"}isNothing(){return this.items().next().done}normalize(){const e=this.items(),t=e.next();return t.done?this:e.next().done?t.value:this}unwrap(){const e=this.values(),t=e.next();return t.done?null:e.next().done?t.value:this}compare(e){for(let[t,r]of this.iterPairs(e)){if(t.isNothing())return r.isNothing()?0:-1;if(r.isNothing())return 1;let e=t.compare(r);if(0!==e)return e}return 0}}class s extends a{toBoolean(){return this.unwrap()}toString(){return this.unwrap()?"TRUE":"FALSE"}get typeName(){return"Bool"}sum(e){return new this.constructor(this.unwrap()||e.unwrap())}isNull(){return!this.unwrap()}static get null(){return new this(!1)}mul(e){return new this.constructor(this.unwrap()&&e.unwrap())}isUnit(){return this.unwrap()}static get unit(){return new this(!0)}compare(e){return super.compare(e,((e,t)=>!e&&t?-1:e&&!t?1:0))}}class c extends a{toBoolean(){return 0!==this.unwrap()}toString(){return String(this.unwrap())}get typeName(){return"Numb"}sum(e){return new this.constructor(this.unwrap()+e.unwrap())}negate(){return new this.constructor(-this.unwrap())}isNull(){return 0===this.unwrap()}static get null(){return new this(0)}mul(e){return new this.constructor(this.unwrap()*e.unwrap())}invert(){return new this.constructor(1/this.unwrap())}isUnit(){return 1===this.unwrap()}static get unit(){return new this(1)}pow(e){return new this.constructor(this.unwrap()**e.unwrap())}compare(e){return super.compare(e,((e,t)=>e===t?0:e<t?-1:1))}}class u extends a{get typeName(){return"Applicable"}}class l extends u{get domain(){}vget(e){}iget(e){const t=this.vget(e);return void 0===t?new y("Mapping",e):v(t)}get size(){return this.domain.length}get image(){return this.domain.map((e=>this.vget(e)))}apply(...e){const t=e.map((e=>this.iget(e)));return 1===t.length?t[0]:new i(...t)}toBoolean(){return this.size>0}toString(){const e=this.size;return 1===e?`[[${this.typeName} of 1 item]]`:`[[${this.typeName} of ${e} items]]`}get typeName(){return"Mapping"}}class h extends l{get domain(){return Object.keys(this.unwrap()).map(Number)}vget(e){return"number"==typeof e?this.unwrap()[e]:void 0}get size(){return this.unwrap().length}get typeName(){return"Sequence"}}class f extends h{toString(){return this.unwrap()}get typeName(){return"Text"}sum(e){return new this.constructor(this.unwrap()+e.unwrap())}isNull(){return 0===this.size}static get null(){return new this("")}compare(e){return super.compare(e,((e,t)=>e.localeCompare(t)))}}class d extends h{get typeName(){return"List"}sum(e){return new this.constructor(this.unwrap().concat(e.unwrap()))}isNull(){return 0===this.size}static get null(){return new this([])}compare(e){return super.compare(e,((e,t)=>{const r=new i(...e),n=new i(...t);return r.compare(n)}))}}class p extends l{get domain(){return Object.keys(this.unwrap()).filter(n)}vget(e){const t=this.unwrap();if(n(e)&&t.hasOwnProperty(e))return t[e]}apply(...e){const t=this.iget("__apply__");return t instanceof m?t.apply(...e):super.apply(...e)}get typeName(){return"Namespace"}sum(e){const t=Object.assign({},g(this),g(e));return new this.constructor(t)}isNull(){return 0===this.size}static get null(){return new this({})}compare(e){return super.compare(e,((t,r)=>{const n=this.domain,o=e.domain;if(n.length!==o.length)return"#";for(let t of n){const r=this.apply(t),n=e.apply(t),o=r.compare(n);if(0!==o)return o}return 0}))}}class m extends u{async apply(...e){const t=this.unwrap(),r=e.map(g);return v(await t(...r))}get typeName(){return"Func"}}class y extends a{constructor(e,...t){super({type:e,args:t.map(g)})}get type(){return super.unwrap().type}get args(){return super.unwrap().args}toBoolean(){return!1}toString(){return`[[Undefined ${this.type}]]`}get typeName(){return"Undefined"}unwrap(){return this}}function v(e){if(e instanceof o)return e;switch(typeof e){case"undefined":return new i;case"boolean":return new s(e);case"number":return Number.isNaN(e)?new y("Number"):new c(e);case"string":return new f(e);case"function":return new m(e);default:if(null===e)return new i;if(Array.isArray(e))return new d(e);switch(Object.prototype.toString.call(e)){case"[object Boolean]":return new s(Boolean(e));case"[object Number]":return new c(Number(e));case"[object String]":return new f(String(e));case"[object Function]":return new m(e)}return new p(e)}}function g(e){return e instanceof o?e.unwrap():e}e.exports={Term:o,Tuple:i,Item:a,Bool:s,Numb:c,Applicable:u,Mapping:l,Sequence:h,Text:f,List:d,Namespace:p,Func:m,Undefined:y,wrap:v,unwrap:g}},328:(e,t,r)=>{r(624),e.exports=self.fetch.bind(self)},790:(e,t,r)=>{e.exports=function e(t,r,n){function o(i,s){if(!r[i]){if(!t[i]){if(a)return a(i,!0);var c=new Error("Cannot find module '"+i+"'");throw c.code="MODULE_NOT_FOUND",c}var u=r[i]={exports:{}};t[i][0].call(u.exports,(function(e){return o(t[i][1][e]||e)}),u,u.exports,e,t,r,n)}return r[i].exports}for(var a=void 0,i=0;i<n.length;i++)o(n[i]);return o}({1:[function(e,t,n){(function(e){"use strict";var r,n,o=e.MutationObserver||e.WebKitMutationObserver;if(o){var a=0,i=new o(l),s=e.document.createTextNode("");i.observe(s,{characterData:!0}),r=function(){s.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)r="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){l(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(l,0)};else{var c=new e.MessageChannel;c.port1.onmessage=l,r=function(){c.port2.postMessage(0)}}var u=[];function l(){var e,t;n=!0;for(var r=u.length;r;){for(t=u,u=[],e=-1;++e<r;)t[e]();r=u.length}n=!1}t.exports=function(e){1!==u.push(e)||n||r()}}).call(this,void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,r){"use strict";var n=e(1);function o(){}var a={},i=["REJECTED"],s=["FULFILLED"],c=["PENDING"];function u(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,e!==o&&d(this,e)}function l(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function h(e,t,r){n((function(){var n;try{n=t(r)}catch(t){return a.reject(e,t)}n===e?a.reject(e,new TypeError("Cannot resolve promise with itself")):a.resolve(e,n)}))}function f(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function d(e,t){var r=!1;function n(t){r||(r=!0,a.reject(e,t))}function o(t){r||(r=!0,a.resolve(e,t))}var i=p((function(){t(o,n)}));"error"===i.status&&n(i.value)}function p(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}t.exports=u,u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===i)return this;var r=new this.constructor(o);return this.state!==c?h(r,this.state===s?e:t,this.outcome):this.queue.push(new l(r,e,t)),r},l.prototype.callFulfilled=function(e){a.resolve(this.promise,e)},l.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},l.prototype.callRejected=function(e){a.reject(this.promise,e)},l.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},a.resolve=function(e,t){var r=p(f,t);if("error"===r.status)return a.reject(e,r.value);var n=r.value;if(n)d(e,n);else{e.state=s,e.outcome=t;for(var o=-1,i=e.queue.length;++o<i;)e.queue[o].callFulfilled(t)}return e},a.reject=function(e,t){e.state=i,e.outcome=t;for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e},u.resolve=function(e){return e instanceof this?e:a.resolve(new this(o),e)},u.reject=function(e){var t=new this(o);return a.reject(t,e)},u.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);for(var i=new Array(r),s=0,c=-1,u=new this(o);++c<r;)l(e[c],c);return u;function l(e,o){t.resolve(e).then((function(e){i[o]=e,++s!==r||n||(n=!0,a.resolve(u,i))}),(function(e){n||(n=!0,a.reject(u,e))}))}},u.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r,n=e.length,i=!1;if(!n)return this.resolve([]);for(var s=-1,c=new this(o);++s<n;)r=e[s],t.resolve(r).then((function(e){i||(i=!0,a.resolve(c,e))}),(function(e){i||(i=!0,a.reject(c,e))}));return c}},{1:1}],3:[function(e,t,n){(function(t){"use strict";"function"!=typeof t.Promise&&(t.Promise=e(2))}).call(this,void 0!==r.g?r.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var o=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(e){return}}();function a(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(o){if("TypeError"!==o.name)throw o;for(var r=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),n=0;n<e.length;n+=1)r.append(e[n]);return r.getBlob(t.type)}}"undefined"==typeof Promise&&e(3);var i=Promise;function s(e,t){t&&e.then((function(e){t(null,e)}),(function(e){t(e)}))}function c(e,t,r){"function"==typeof t&&e.then(t),"function"==typeof r&&e.catch(r)}function u(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function l(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}var h="local-forage-detect-blob-support",f=void 0,d={},p=Object.prototype.toString,m="readonly",y="readwrite";function v(e){for(var t=e.length,r=new ArrayBuffer(t),n=new Uint8Array(r),o=0;o<t;o++)n[o]=e.charCodeAt(o);return r}function g(e){return"boolean"==typeof f?i.resolve(f):function(e){return new i((function(t){var r=e.transaction(h,y),n=a([""]);r.objectStore(h).put(n,"key"),r.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)},r.oncomplete=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),r=navigator.userAgent.match(/Edge\//);t(r||!e||parseInt(e[1],10)>=43)}})).catch((function(){return!1}))}(e).then((function(e){return f=e}))}function w(e){var t=d[e.name],r={};r.promise=new i((function(e,t){r.resolve=e,r.reject=t})),t.deferredOperations.push(r),t.dbReady?t.dbReady=t.dbReady.then((function(){return r.promise})):t.dbReady=r.promise}function b(e){var t=d[e.name].deferredOperations.pop();if(t)return t.resolve(),t.promise}function _(e,t){var r=d[e.name].deferredOperations.pop();if(r)return r.reject(t),r.promise}function O(e,t){return new i((function(r,n){if(d[e.name]=d[e.name]||{forages:[],db:null,dbReady:null,deferredOperations:[]},e.db){if(!t)return r(e.db);w(e),e.db.close()}var a=[e.name];t&&a.push(e.version);var i=o.open.apply(o,a);t&&(i.onupgradeneeded=function(t){var r=i.result;try{r.createObjectStore(e.storeName),t.oldVersion<=1&&r.createObjectStore(h)}catch(r){if("ConstraintError"!==r.name)throw r;console.warn('The database "'+e.name+'" has been upgraded from version '+t.oldVersion+" to version "+t.newVersion+', but the storage "'+e.storeName+'" already exists.')}}),i.onerror=function(e){e.preventDefault(),n(i.error)},i.onsuccess=function(){var t=i.result;t.onversionchange=function(e){e.target.close()},r(t),b(e)}}))}function N(e){return O(e,!1)}function S(e){return O(e,!0)}function x(e,t){if(!e.db)return!0;var r=!e.db.objectStoreNames.contains(e.storeName),n=e.version<e.db.version,o=e.version>e.db.version;if(n&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),o||r){if(r){var a=e.db.version+1;a>e.version&&(e.version=a)}return!0}return!1}function E(e){return a([v(atob(e.data))],{type:e.type})}function A(e){return e&&e.__local_forage_encoded_blob}function I(e){var t=this,r=t._initReady().then((function(){var e=d[t._dbInfo.name];if(e&&e.dbReady)return e.dbReady}));return c(r,e,e),r}function T(e,t,r,n){void 0===n&&(n=1);try{var o=e.db.transaction(e.storeName,t);r(null,o)}catch(o){if(n>0&&(!e.db||"InvalidStateError"===o.name||"NotFoundError"===o.name))return i.resolve().then((function(){if(!e.db||"NotFoundError"===o.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=e.db.version)return e.db&&(e.version=e.db.version+1),S(e)})).then((function(){return function(e){w(e);for(var t=d[e.name],r=t.forages,n=0;n<r.length;n++){var o=r[n];o._dbInfo.db&&(o._dbInfo.db.close(),o._dbInfo.db=null)}return e.db=null,N(e).then((function(t){return e.db=t,x(e)?S(e):t})).then((function(n){e.db=t.db=n;for(var o=0;o<r.length;o++)r[o]._dbInfo.db=n})).catch((function(t){throw _(e,t),t}))}(e).then((function(){T(e,t,r,n-1)}))})).catch(r);r(o)}}var j={_driver:"asyncStorage",_initStorage:function(e){var t=this,r={db:null};if(e)for(var n in e)r[n]=e[n];var o=d[r.name];o||(o={forages:[],db:null,dbReady:null,deferredOperations:[]},d[r.name]=o),o.forages.push(t),t._initReady||(t._initReady=t.ready,t.ready=I);var a=[];function s(){return i.resolve()}for(var c=0;c<o.forages.length;c++){var u=o.forages[c];u!==t&&a.push(u._initReady().catch(s))}var l=o.forages.slice(0);return i.all(a).then((function(){return r.db=o.db,N(r)})).then((function(e){return r.db=e,x(r,t._defaultConfig.version)?S(r):e})).then((function(e){r.db=o.db=e,t._dbInfo=r;for(var n=0;n<l.length;n++){var a=l[n];a!==t&&(a._dbInfo.db=r.db,a._dbInfo.version=r.version)}}))},_support:function(){try{if(!o||!o.open)return!1;var e="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}}(),iterate:function(e,t){var r=this,n=new i((function(t,n){r.ready().then((function(){T(r._dbInfo,m,(function(o,a){if(o)return n(o);try{var i=a.objectStore(r._dbInfo.storeName).openCursor(),s=1;i.onsuccess=function(){var r=i.result;if(r){var n=r.value;A(n)&&(n=E(n));var o=e(n,r.key,s++);void 0!==o?t(o):r.continue()}else t()},i.onerror=function(){n(i.error)}}catch(e){n(e)}}))})).catch(n)}));return s(n,t),n},getItem:function(e,t){var r=this;e=u(e);var n=new i((function(t,n){r.ready().then((function(){T(r._dbInfo,m,(function(o,a){if(o)return n(o);try{var i=a.objectStore(r._dbInfo.storeName).get(e);i.onsuccess=function(){var e=i.result;void 0===e&&(e=null),A(e)&&(e=E(e)),t(e)},i.onerror=function(){n(i.error)}}catch(e){n(e)}}))})).catch(n)}));return s(n,t),n},setItem:function(e,t,r){var n=this;e=u(e);var o=new i((function(r,o){var a;n.ready().then((function(){return a=n._dbInfo,"[object Blob]"===p.call(t)?g(a.db).then((function(e){return e?t:(r=t,new i((function(e,t){var n=new FileReader;n.onerror=t,n.onloadend=function(t){var n=btoa(t.target.result||"");e({__local_forage_encoded_blob:!0,data:n,type:r.type})},n.readAsBinaryString(r)})));var r})):t})).then((function(t){T(n._dbInfo,y,(function(a,i){if(a)return o(a);try{var s=i.objectStore(n._dbInfo.storeName);null===t&&(t=void 0);var c=s.put(t,e);i.oncomplete=function(){void 0===t&&(t=null),r(t)},i.onabort=i.onerror=function(){var e=c.error?c.error:c.transaction.error;o(e)}}catch(e){o(e)}}))})).catch(o)}));return s(o,r),o},removeItem:function(e,t){var r=this;e=u(e);var n=new i((function(t,n){r.ready().then((function(){T(r._dbInfo,y,(function(o,a){if(o)return n(o);try{var i=a.objectStore(r._dbInfo.storeName).delete(e);a.oncomplete=function(){t()},a.onerror=function(){n(i.error)},a.onabort=function(){var e=i.error?i.error:i.transaction.error;n(e)}}catch(e){n(e)}}))})).catch(n)}));return s(n,t),n},clear:function(e){var t=this,r=new i((function(e,r){t.ready().then((function(){T(t._dbInfo,y,(function(n,o){if(n)return r(n);try{var a=o.objectStore(t._dbInfo.storeName).clear();o.oncomplete=function(){e()},o.onabort=o.onerror=function(){var e=a.error?a.error:a.transaction.error;r(e)}}catch(e){r(e)}}))})).catch(r)}));return s(r,e),r},length:function(e){var t=this,r=new i((function(e,r){t.ready().then((function(){T(t._dbInfo,m,(function(n,o){if(n)return r(n);try{var a=o.objectStore(t._dbInfo.storeName).count();a.onsuccess=function(){e(a.result)},a.onerror=function(){r(a.error)}}catch(e){r(e)}}))})).catch(r)}));return s(r,e),r},key:function(e,t){var r=this,n=new i((function(t,n){e<0?t(null):r.ready().then((function(){T(r._dbInfo,m,(function(o,a){if(o)return n(o);try{var i=a.objectStore(r._dbInfo.storeName),s=!1,c=i.openKeyCursor();c.onsuccess=function(){var r=c.result;r?0===e||s?t(r.key):(s=!0,r.advance(e)):t(null)},c.onerror=function(){n(c.error)}}catch(e){n(e)}}))})).catch(n)}));return s(n,t),n},keys:function(e){var t=this,r=new i((function(e,r){t.ready().then((function(){T(t._dbInfo,m,(function(n,o){if(n)return r(n);try{var a=o.objectStore(t._dbInfo.storeName).openKeyCursor(),i=[];a.onsuccess=function(){var t=a.result;t?(i.push(t.key),t.continue()):e(i)},a.onerror=function(){r(a.error)}}catch(e){r(e)}}))})).catch(r)}));return s(r,e),r},dropInstance:function(e,t){t=l.apply(this,arguments);var r,n=this.config();if((e="function"!=typeof e&&e||{}).name||(e.name=e.name||n.name,e.storeName=e.storeName||n.storeName),e.name){var a=e.name===n.name&&this._dbInfo.db?i.resolve(this._dbInfo.db):N(e).then((function(t){var r=d[e.name],n=r.forages;r.db=t;for(var o=0;o<n.length;o++)n[o]._dbInfo.db=t;return t}));r=e.storeName?a.then((function(t){if(t.objectStoreNames.contains(e.storeName)){var r=t.version+1;w(e);var n=d[e.name],a=n.forages;t.close();for(var s=0;s<a.length;s++){var c=a[s];c._dbInfo.db=null,c._dbInfo.version=r}var u=new i((function(t,n){var a=o.open(e.name,r);a.onerror=function(e){a.result.close(),n(e)},a.onupgradeneeded=function(){a.result.deleteObjectStore(e.storeName)},a.onsuccess=function(){var e=a.result;e.close(),t(e)}}));return u.then((function(e){n.db=e;for(var t=0;t<a.length;t++){var r=a[t];r._dbInfo.db=e,b(r._dbInfo)}})).catch((function(t){throw(_(e,t)||i.resolve()).catch((function(){})),t}))}})):a.then((function(t){w(e);var r=d[e.name],n=r.forages;t.close();for(var a=0;a<n.length;a++)n[a]._dbInfo.db=null;var s=new i((function(t,r){var n=o.deleteDatabase(e.name);n.onerror=function(){var e=n.result;e&&e.close(),r(n.error)},n.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')},n.onsuccess=function(){var e=n.result;e&&e.close(),t(e)}}));return s.then((function(e){r.db=e;for(var t=0;t<n.length;t++)b(n[t]._dbInfo)})).catch((function(t){throw(_(e,t)||i.resolve()).catch((function(){})),t}))}))}else r=i.reject("Invalid arguments");return s(r,t),r}};var B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P=/^~~local_forage_type~([^~]+)~/,D="__lfsc__:",R="arbf",C="blob",k="si08",L="ui08",z="uic8",U="si16",F="si32",M="ur16",H="ui32",$="fl32",q="fl64",W=Object.prototype.toString;function G(e){var t,r,n,o,a,i=.75*e.length,s=e.length,c=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);var u=new ArrayBuffer(i),l=new Uint8Array(u);for(t=0;t<s;t+=4)r=B.indexOf(e[t]),n=B.indexOf(e[t+1]),o=B.indexOf(e[t+2]),a=B.indexOf(e[t+3]),l[c++]=r<<2|n>>4,l[c++]=(15&n)<<4|o>>2,l[c++]=(3&o)<<6|63&a;return u}function Z(e){var t,r=new Uint8Array(e),n="";for(t=0;t<r.length;t+=3)n+=B[r[t]>>2],n+=B[(3&r[t])<<4|r[t+1]>>4],n+=B[(15&r[t+1])<<2|r[t+2]>>6],n+=B[63&r[t+2]];return r.length%3==2?n=n.substring(0,n.length-1)+"=":r.length%3==1&&(n=n.substring(0,n.length-2)+"=="),n}var Y={serialize:function(e,t){var r="";if(e&&(r=W.call(e)),e&&("[object ArrayBuffer]"===r||e.buffer&&"[object ArrayBuffer]"===W.call(e.buffer))){var n,o=D;e instanceof ArrayBuffer?(n=e,o+=R):(n=e.buffer,"[object Int8Array]"===r?o+=k:"[object Uint8Array]"===r?o+=L:"[object Uint8ClampedArray]"===r?o+=z:"[object Int16Array]"===r?o+=U:"[object Uint16Array]"===r?o+=M:"[object Int32Array]"===r?o+=F:"[object Uint32Array]"===r?o+=H:"[object Float32Array]"===r?o+=$:"[object Float64Array]"===r?o+=q:t(new Error("Failed to get type for BinaryArray"))),t(o+Z(n))}else if("[object Blob]"===r){var a=new FileReader;a.onload=function(){var r="~~local_forage_type~"+e.type+"~"+Z(this.result);t(D+C+r)},a.readAsArrayBuffer(e)}else try{t(JSON.stringify(e))}catch(r){console.error("Couldn't convert value into a JSON string: ",e),t(null,r)}},deserialize:function(e){if(e.substring(0,9)!==D)return JSON.parse(e);var t,r=e.substring(13),n=e.substring(9,13);if(n===C&&P.test(r)){var o=r.match(P);t=o[1],r=r.substring(o[0].length)}var i=G(r);switch(n){case R:return i;case C:return a([i],{type:t});case k:return new Int8Array(i);case L:return new Uint8Array(i);case z:return new Uint8ClampedArray(i);case U:return new Int16Array(i);case M:return new Uint16Array(i);case F:return new Int32Array(i);case H:return new Uint32Array(i);case $:return new Float32Array(i);case q:return new Float64Array(i);default:throw new Error("Unkown type: "+n)}},stringToBuffer:G,bufferToString:Z};function Q(e,t,r,n){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],r,n)}function V(e,t,r,n,o,a){e.executeSql(r,n,o,(function(e,i){i.code===i.SYNTAX_ERR?e.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[t.storeName],(function(e,s){s.rows.length?a(e,i):Q(e,t,(function(){e.executeSql(r,n,o,a)}),a)}),a):a(e,i)}),a)}function K(e,t,r,n){var o=this;e=u(e);var a=new i((function(a,i){o.ready().then((function(){void 0===t&&(t=null);var s=t,c=o._dbInfo;c.serializer.serialize(t,(function(t,u){u?i(u):c.db.transaction((function(r){V(r,c,"INSERT OR REPLACE INTO "+c.storeName+" (key, value) VALUES (?, ?)",[e,t],(function(){a(s)}),(function(e,t){i(t)}))}),(function(t){if(t.code===t.QUOTA_ERR){if(n>0)return void a(K.apply(o,[e,s,r,n-1]));i(t)}}))}))})).catch(i)}));return s(a,r),a}var X={_driver:"webSQLStorage",_initStorage:function(e){var t=this,r={db:null};if(e)for(var n in e)r[n]="string"!=typeof e[n]?e[n].toString():e[n];var o=new i((function(e,n){try{r.db=openDatabase(r.name,String(r.version),r.description,r.size)}catch(e){return n(e)}r.db.transaction((function(o){Q(o,r,(function(){t._dbInfo=r,e()}),(function(e,t){n(t)}))}),n)}));return r.serializer=Y,o},_support:"function"==typeof openDatabase,iterate:function(e,t){var r=this,n=new i((function(t,n){r.ready().then((function(){var o=r._dbInfo;o.db.transaction((function(r){V(r,o,"SELECT * FROM "+o.storeName,[],(function(r,n){for(var a=n.rows,i=a.length,s=0;s<i;s++){var c=a.item(s),u=c.value;if(u&&(u=o.serializer.deserialize(u)),void 0!==(u=e(u,c.key,s+1)))return void t(u)}t()}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,t),n},getItem:function(e,t){var r=this;e=u(e);var n=new i((function(t,n){r.ready().then((function(){var o=r._dbInfo;o.db.transaction((function(r){V(r,o,"SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[e],(function(e,r){var n=r.rows.length?r.rows.item(0).value:null;n&&(n=o.serializer.deserialize(n)),t(n)}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,t),n},setItem:function(e,t,r){return K.apply(this,[e,t,r,1])},removeItem:function(e,t){var r=this;e=u(e);var n=new i((function(t,n){r.ready().then((function(){var o=r._dbInfo;o.db.transaction((function(r){V(r,o,"DELETE FROM "+o.storeName+" WHERE key = ?",[e],(function(){t()}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,t),n},clear:function(e){var t=this,r=new i((function(e,r){t.ready().then((function(){var n=t._dbInfo;n.db.transaction((function(t){V(t,n,"DELETE FROM "+n.storeName,[],(function(){e()}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,e),r},length:function(e){var t=this,r=new i((function(e,r){t.ready().then((function(){var n=t._dbInfo;n.db.transaction((function(t){V(t,n,"SELECT COUNT(key) as c FROM "+n.storeName,[],(function(t,r){var n=r.rows.item(0).c;e(n)}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,e),r},key:function(e,t){var r=this,n=new i((function(t,n){r.ready().then((function(){var o=r._dbInfo;o.db.transaction((function(r){V(r,o,"SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[e+1],(function(e,r){var n=r.rows.length?r.rows.item(0).key:null;t(n)}),(function(e,t){n(t)}))}))})).catch(n)}));return s(n,t),n},keys:function(e){var t=this,r=new i((function(e,r){t.ready().then((function(){var n=t._dbInfo;n.db.transaction((function(t){V(t,n,"SELECT key FROM "+n.storeName,[],(function(t,r){for(var n=[],o=0;o<r.rows.length;o++)n.push(r.rows.item(o).key);e(n)}),(function(e,t){r(t)}))}))})).catch(r)}));return s(r,e),r},dropInstance:function(e,t){t=l.apply(this,arguments);var r=this.config();(e="function"!=typeof e&&e||{}).name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName);var n,o=this;return s(n=e.name?new i((function(t){var n;n=e.name===r.name?o._dbInfo.db:openDatabase(e.name,"","",0),e.storeName?t({db:n,storeNames:[e.storeName]}):t(function(e){return new i((function(t,r){e.transaction((function(n){n.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],(function(r,n){for(var o=[],a=0;a<n.rows.length;a++)o.push(n.rows.item(a).name);t({db:e,storeNames:o})}),(function(e,t){r(t)}))}),(function(e){r(e)}))}))}(n))})).then((function(e){return new i((function(t,r){e.db.transaction((function(n){function o(e){return new i((function(t,r){n.executeSql("DROP TABLE IF EXISTS "+e,[],(function(){t()}),(function(e,t){r(t)}))}))}for(var a=[],s=0,c=e.storeNames.length;s<c;s++)a.push(o(e.storeNames[s]));i.all(a).then((function(){t()})).catch((function(e){r(e)}))}),(function(e){r(e)}))}))})):i.reject("Invalid arguments"),t),n}};function J(e,t){var r=e.name+"/";return e.storeName!==t.storeName&&(r+=e.storeName+"/"),r}function ee(){return!function(){var e="_localforage_support_test";try{return localStorage.setItem(e,!0),localStorage.removeItem(e),!1}catch(e){return!0}}()||localStorage.length>0}var te={_driver:"localStorageWrapper",_initStorage:function(e){var t={};if(e)for(var r in e)t[r]=e[r];return t.keyPrefix=J(e,this._defaultConfig),ee()?(this._dbInfo=t,t.serializer=Y,i.resolve()):i.reject()},_support:function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch(e){return!1}}(),iterate:function(e,t){var r=this,n=r.ready().then((function(){for(var t=r._dbInfo,n=t.keyPrefix,o=n.length,a=localStorage.length,i=1,s=0;s<a;s++){var c=localStorage.key(s);if(0===c.indexOf(n)){var u=localStorage.getItem(c);if(u&&(u=t.serializer.deserialize(u)),void 0!==(u=e(u,c.substring(o),i++)))return u}}}));return s(n,t),n},getItem:function(e,t){var r=this;e=u(e);var n=r.ready().then((function(){var t=r._dbInfo,n=localStorage.getItem(t.keyPrefix+e);return n&&(n=t.serializer.deserialize(n)),n}));return s(n,t),n},setItem:function(e,t,r){var n=this;e=u(e);var o=n.ready().then((function(){void 0===t&&(t=null);var r=t;return new i((function(o,a){var i=n._dbInfo;i.serializer.serialize(t,(function(t,n){if(n)a(n);else try{localStorage.setItem(i.keyPrefix+e,t),o(r)}catch(e){"QuotaExceededError"!==e.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==e.name||a(e),a(e)}}))}))}));return s(o,r),o},removeItem:function(e,t){var r=this;e=u(e);var n=r.ready().then((function(){var t=r._dbInfo;localStorage.removeItem(t.keyPrefix+e)}));return s(n,t),n},clear:function(e){var t=this,r=t.ready().then((function(){for(var e=t._dbInfo.keyPrefix,r=localStorage.length-1;r>=0;r--){var n=localStorage.key(r);0===n.indexOf(e)&&localStorage.removeItem(n)}}));return s(r,e),r},length:function(e){var t=this.keys().then((function(e){return e.length}));return s(t,e),t},key:function(e,t){var r=this,n=r.ready().then((function(){var t,n=r._dbInfo;try{t=localStorage.key(e)}catch(e){t=null}return t&&(t=t.substring(n.keyPrefix.length)),t}));return s(n,t),n},keys:function(e){var t=this,r=t.ready().then((function(){for(var e=t._dbInfo,r=localStorage.length,n=[],o=0;o<r;o++){var a=localStorage.key(o);0===a.indexOf(e.keyPrefix)&&n.push(a.substring(e.keyPrefix.length))}return n}));return s(r,e),r},dropInstance:function(e,t){if(t=l.apply(this,arguments),!(e="function"!=typeof e&&e||{}).name){var r=this.config();e.name=e.name||r.name,e.storeName=e.storeName||r.storeName}var n,o=this;return n=e.name?new i((function(t){e.storeName?t(J(e,o._defaultConfig)):t(e.name+"/")})).then((function(e){for(var t=localStorage.length-1;t>=0;t--){var r=localStorage.key(t);0===r.indexOf(e)&&localStorage.removeItem(r)}})):i.reject("Invalid arguments"),s(n,t),n}},re=function(e,t){for(var r=e.length,n=0;n<r;){if((o=e[n])===(a=t)||"number"==typeof o&&"number"==typeof a&&isNaN(o)&&isNaN(a))return!0;n++}var o,a;return!1},ne=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},oe={},ae={},ie={INDEXEDDB:j,WEBSQL:X,LOCALSTORAGE:te},se=[ie.INDEXEDDB._driver,ie.WEBSQL._driver,ie.LOCALSTORAGE._driver],ce=["dropInstance"],ue=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ce),le={description:"",driver:se.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function he(e,t){e[t]=function(){var r=arguments;return e.ready().then((function(){return e[t].apply(e,r)}))}}function fe(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var r in t)t.hasOwnProperty(r)&&(ne(t[r])?arguments[0][r]=t[r].slice():arguments[0][r]=t[r])}return arguments[0]}var de=function(){function e(t){for(var r in function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ie)if(ie.hasOwnProperty(r)){var n=ie[r],o=n._driver;this[r]=o,oe[o]||this.defineDriver(n)}this._defaultConfig=fe({},le),this._config=fe({},this._defaultConfig,t),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch((function(){}))}return e.prototype.config=function(e){if("object"===(void 0===e?"undefined":n(e))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var t in e){if("storeName"===t&&(e[t]=e[t].replace(/\W/g,"_")),"version"===t&&"number"!=typeof e[t])return new Error("Database version must be a number.");this._config[t]=e[t]}return!("driver"in e)||!e.driver||this.setDriver(this._config.driver)}return"string"==typeof e?this._config[e]:this._config},e.prototype.defineDriver=function(e,t,r){var n=new i((function(t,r){try{var n=e._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!e._driver)return void r(o);for(var a=ue.concat("_initStorage"),c=0,u=a.length;c<u;c++){var l=a[c];if((!re(ce,l)||e[l])&&"function"!=typeof e[l])return void r(o)}!function(){for(var t=function(e){return function(){var t=new Error("Method "+e+" is not implemented by the current driver"),r=i.reject(t);return s(r,arguments[arguments.length-1]),r}},r=0,n=ce.length;r<n;r++){var o=ce[r];e[o]||(e[o]=t(o))}}();var h=function(r){oe[n]&&console.info("Redefining LocalForage driver: "+n),oe[n]=e,ae[n]=r,t()};"_support"in e?e._support&&"function"==typeof e._support?e._support().then(h,r):h(!!e._support):h(!0)}catch(e){r(e)}}));return c(n,t,r),n},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(e,t,r){var n=oe[e]?i.resolve(oe[e]):i.reject(new Error("Driver not found."));return c(n,t,r),n},e.prototype.getSerializer=function(e){var t=i.resolve(Y);return c(t,e),t},e.prototype.ready=function(e){var t=this,r=t._driverSet.then((function(){return null===t._ready&&(t._ready=t._initDriver()),t._ready}));return c(r,e,e),r},e.prototype.setDriver=function(e,t,r){var n=this;ne(e)||(e=[e]);var o=this._getSupportedDrivers(e);function a(){n._config.driver=n.driver()}function s(e){return n._extend(e),a(),n._ready=n._initStorage(n._config),n._ready}var u=null!==this._driverSet?this._driverSet.catch((function(){return i.resolve()})):i.resolve();return this._driverSet=u.then((function(){var e=o[0];return n._dbInfo=null,n._ready=null,n.getDriver(e).then((function(e){n._driver=e._driver,a(),n._wrapLibraryMethodsWithReady(),n._initDriver=function(e){return function(){var t=0;return function r(){for(;t<e.length;){var o=e[t];return t++,n._dbInfo=null,n._ready=null,n.getDriver(o).then(s).catch(r)}a();var c=new Error("No available storage method found.");return n._driverSet=i.reject(c),n._driverSet}()}}(o)}))})).catch((function(){a();var e=new Error("No available storage method found.");return n._driverSet=i.reject(e),n._driverSet})),c(this._driverSet,t,r),this._driverSet},e.prototype.supports=function(e){return!!ae[e]},e.prototype._extend=function(e){fe(this,e)},e.prototype._getSupportedDrivers=function(e){for(var t=[],r=0,n=e.length;r<n;r++){var o=e[r];this.supports(o)&&t.push(o)}return t},e.prototype._wrapLibraryMethodsWithReady=function(){for(var e=0,t=ue.length;e<t;e++)he(this,ue[e])},e.prototype.createInstance=function(t){return new e(t)},e}(),pe=new de;t.exports=pe},{3:3}]},{},[4])(4)},975:e=>{"use strict";function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function r(e,t){for(var r,n="",o=0,a=-1,i=0,s=0;s<=e.length;++s){if(s<e.length)r=e.charCodeAt(s);else{if(47===r)break;r=47}if(47===r){if(a===s-1||1===i);else if(a!==s-1&&2===i){if(n.length<2||2!==o||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var c=n.lastIndexOf("/");if(c!==n.length-1){-1===c?(n="",o=0):o=(n=n.slice(0,c)).length-1-n.lastIndexOf("/"),a=s,i=0;continue}}else if(2===n.length||1===n.length){n="",o=0,a=s,i=0;continue}t&&(n.length>0?n+="/..":n="..",o=2)}else n.length>0?n+="/"+e.slice(a+1,s):n=e.slice(a+1,s),o=s-a-1;a=s,i=0}else 46===r&&-1!==i?++i:i=-1}return n}var n={resolve:function(){for(var e,n="",o=!1,a=arguments.length-1;a>=-1&&!o;a--){var i;a>=0?i=arguments[a]:(void 0===e&&(e=process.cwd()),i=e),t(i),0!==i.length&&(n=i+"/"+n,o=47===i.charCodeAt(0))}return n=r(n,!o),o?n.length>0?"/"+n:"/":n.length>0?n:"."},normalize:function(e){if(t(e),0===e.length)return".";var n=47===e.charCodeAt(0),o=47===e.charCodeAt(e.length-1);return 0!==(e=r(e,!n)).length||n||(e="."),e.length>0&&o&&(e+="/"),n?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,r=0;r<arguments.length;++r){var o=arguments[r];t(o),o.length>0&&(void 0===e?e=o:e+="/"+o)}return void 0===e?".":n.normalize(e)},relative:function(e,r){if(t(e),t(r),e===r)return"";if((e=n.resolve(e))===(r=n.resolve(r)))return"";for(var o=1;o<e.length&&47===e.charCodeAt(o);++o);for(var a=e.length,i=a-o,s=1;s<r.length&&47===r.charCodeAt(s);++s);for(var c=r.length-s,u=i<c?i:c,l=-1,h=0;h<=u;++h){if(h===u){if(c>u){if(47===r.charCodeAt(s+h))return r.slice(s+h+1);if(0===h)return r.slice(s+h)}else i>u&&(47===e.charCodeAt(o+h)?l=h:0===h&&(l=0));break}var f=e.charCodeAt(o+h);if(f!==r.charCodeAt(s+h))break;47===f&&(l=h)}var d="";for(h=o+l+1;h<=a;++h)h!==a&&47!==e.charCodeAt(h)||(0===d.length?d+="..":d+="/..");return d.length>0?d+r.slice(s+l):(s+=l,47===r.charCodeAt(s)&&++s,r.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var r=e.charCodeAt(0),n=47===r,o=-1,a=!0,i=e.length-1;i>=1;--i)if(47===(r=e.charCodeAt(i))){if(!a){o=i;break}}else a=!1;return-1===o?n?"/":".":n&&1===o?"//":e.slice(0,o)},basename:function(e,r){if(void 0!==r&&"string"!=typeof r)throw new TypeError('"ext" argument must be a string');t(e);var n,o=0,a=-1,i=!0;if(void 0!==r&&r.length>0&&r.length<=e.length){if(r.length===e.length&&r===e)return"";var s=r.length-1,c=-1;for(n=e.length-1;n>=0;--n){var u=e.charCodeAt(n);if(47===u){if(!i){o=n+1;break}}else-1===c&&(i=!1,c=n+1),s>=0&&(u===r.charCodeAt(s)?-1==--s&&(a=n):(s=-1,a=c))}return o===a?a=c:-1===a&&(a=e.length),e.slice(o,a)}for(n=e.length-1;n>=0;--n)if(47===e.charCodeAt(n)){if(!i){o=n+1;break}}else-1===a&&(i=!1,a=n+1);return-1===a?"":e.slice(o,a)},extname:function(e){t(e);for(var r=-1,n=0,o=-1,a=!0,i=0,s=e.length-1;s>=0;--s){var c=e.charCodeAt(s);if(47!==c)-1===o&&(a=!1,o=s+1),46===c?-1===r?r=s:1!==i&&(i=1):-1!==r&&(i=-1);else if(!a){n=s+1;break}}return-1===r||-1===o||0===i||1===i&&r===o-1&&r===n+1?"":e.slice(r,o)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var r=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return r?r===t.root?r+n:r+"/"+n:n}(0,e)},parse:function(e){t(e);var r={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return r;var n,o=e.charCodeAt(0),a=47===o;a?(r.root="/",n=1):n=0;for(var i=-1,s=0,c=-1,u=!0,l=e.length-1,h=0;l>=n;--l)if(47!==(o=e.charCodeAt(l)))-1===c&&(u=!1,c=l+1),46===o?-1===i?i=l:1!==h&&(h=1):-1!==i&&(h=-1);else if(!u){s=l+1;break}return-1===i||-1===c||0===h||1===h&&i===c-1&&i===s+1?-1!==c&&(r.base=r.name=0===s&&a?e.slice(1,c):e.slice(s,c)):(0===s&&a?(r.name=e.slice(1,i),r.base=e.slice(1,c)):(r.name=e.slice(s,i),r.base=e.slice(s,c)),r.ext=e.slice(i,c)),s>0?r.dir=e.slice(0,s-1):a&&(r.dir="/"),r},sep:"/",delimiter:":",win32:null,posix:null};n.posix=n,e.exports=n},624:(e,t,r)=>{"use strict";r.r(t),r.d(t,{DOMException:()=>_,Headers:()=>l,Request:()=>v,Response:()=>w,fetch:()=>O});var n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==n&&n,o={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};if(o.arrayBuffer)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function c(e){return"string"!=typeof e&&(e=String(e)),e}function u(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return o.iterable&&(t[Symbol.iterator]=function(){return t}),t}function l(e){this.map={},e instanceof l?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function h(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function d(e){var t=new FileReader,r=f(t);return t.readAsArrayBuffer(e),r}function p(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:o.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:o.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():o.arrayBuffer&&o.blob&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=p(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||i(e))?this._bodyArrayBuffer=p(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o.blob&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(d)}),this.text=function(){var e,t,r,n=h(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,r=f(t=new FileReader),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o.formData&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}l.prototype.append=function(e,t){e=s(e),t=c(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},l.prototype.delete=function(e){delete this.map[s(e)]},l.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},l.prototype.set=function(e,t){this.map[s(e)]=c(t)},l.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},l.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),u(e)},l.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),u(e)},l.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),u(e)},o.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function v(e,t){if(!(this instanceof v))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,n,o=(t=t||{}).body;if(e instanceof v){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,o||null==e._bodyInit||(o=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new l(t.headers)),this.method=(n=(r=t.method||this.method||"GET").toUpperCase(),y.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(o),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var a=/([?&])_=[^&]*/;a.test(this.url)?this.url=this.url.replace(a,"$1_="+(new Date).getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}function g(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}})),t}function w(e,t){if(!(this instanceof w))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}v.prototype.clone=function(){return new v(this,{body:this._bodyInit})},m.call(v.prototype),m.call(w.prototype),w.prototype.clone=function(){return new w(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},w.error=function(){var e=new w(null,{status:0,statusText:""});return e.type="error",e};var b=[301,302,303,307,308];w.redirect=function(e,t){if(-1===b.indexOf(t))throw new RangeError("Invalid status code");return new w(null,{status:t,headers:{location:e}})};var _=n.DOMException;try{new _}catch(e){(_=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack}).prototype=Object.create(Error.prototype),_.prototype.constructor=_}function O(e,t){return new Promise((function(r,a){var i=new v(e,t);if(i.signal&&i.signal.aborted)return a(new _("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var e,t,n={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new l,e.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e})).forEach((function(e){var r=e.split(":"),n=r.shift().trim();if(n){var o=r.join(":").trim();t.append(n,o)}})),t)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var o="response"in s?s.response:s.responseText;setTimeout((function(){r(new w(o,n))}),0)},s.onerror=function(){setTimeout((function(){a(new TypeError("Network request failed"))}),0)},s.ontimeout=function(){setTimeout((function(){a(new TypeError("Network request failed"))}),0)},s.onabort=function(){setTimeout((function(){a(new _("Aborted","AbortError"))}),0)},s.open(i.method,function(e){try{return""===e&&n.location.href?n.location.href:e}catch(t){return e}}(i.url),!0),"include"===i.credentials?s.withCredentials=!0:"omit"===i.credentials&&(s.withCredentials=!1),"responseType"in s&&(o.blob?s.responseType="blob":o.arrayBuffer&&i.headers.get("Content-Type")&&-1!==i.headers.get("Content-Type").indexOf("application/octet-stream")&&(s.responseType="arraybuffer")),!t||"object"!=typeof t.headers||t.headers instanceof l?i.headers.forEach((function(e,t){s.setRequestHeader(t,e)})):Object.getOwnPropertyNames(t.headers).forEach((function(e){s.setRequestHeader(e,c(t.headers[e]))})),i.signal&&(i.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&i.signal.removeEventListener("abort",u)}),s.send(void 0===i._bodyInit?null:i._bodyInit)}))}O.polyfill=!0,n.fetch||(n.fetch=O,n.Headers=l,n.Request=v,n.Response=w)},448:(e,t,r)=>{const n=r(453),o=r(790);e.exports=class extends n{constructor(e){super(),this._backend=o.createInstance({name:e})}async read(e){const t=this.normalizePath(e);return String(await this._backend.getItem(t)||"")}async write(e,t){const r=this.normalizePath(e);await this._backend.setItem(r,String(t))}async delete(e){const t=this.normalizePath(e);await this._backend.removeItem(t)}}}},a={};function i(e){var t=a[e];if(void 0!==t)return t.exports;var r=a[e]={exports:{}};return o[e](r,r.exports,i),r.exports}i.m=o,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,i.t=function(r,n){if(1&n&&(r=this(r)),8&n)return r;if("object"==typeof r&&r){if(4&n&&r.__esModule)return r;if(16&n&&"function"==typeof r.then)return r}var o=Object.create(null);i.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&n&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,i.d(o,a),o},i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,r)=>(i.f[r](e,t),t)),[])),i.u=e=>(({210:"swan_modules/markdown",334:"swan_modules/debug",367:"swan_modules/math",585:"swan_modules/dict",684:"swan_modules/text",916:"swan_modules/path",950:"swan_modules/time",979:"swan_modules/json"}[e]||e)+".js"),i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r={},n="@onlabsorg/olojs:",i.l=(e,t,o,a)=>{if(r[e])r[e].push(t);else{var s,c;if(void 0!==o)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var h=u[l];if(h.getAttribute("src")==e||h.getAttribute("data-webpack")==n+o){s=h;break}}s||(c=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,i.nc&&s.setAttribute("nonce",i.nc),s.setAttribute("data-webpack",n+o),s.src=e),r[e]=[t];var f=(t,n)=>{s.onerror=s.onload=null,clearTimeout(d);var o=r[e];if(delete r[e],s.parentNode&&s.parentNode.removeChild(s),o&&o.forEach((e=>e(n))),t)return t(n)},d=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),c&&document.head.appendChild(s)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");if(r.length)for(var n=r.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=r[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),(()=>{var e={792:0};i.f.j=(t,r)=>{var n=i.o(e,t)?e[t]:void 0;if(0!==n)if(n)r.push(n[2]);else{var o=new Promise(((r,o)=>n=e[t]=[r,o]));r.push(n[2]=o);var a=i.p+i.u(t),s=new Error;i.l(a,(r=>{if(i.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,n[1](s)}}),"chunk-"+t,t)}};var t=(t,r)=>{var n,o,[a,s,c]=r,u=0;if(a.some((t=>0!==e[t]))){for(n in s)i.o(s,n)&&(i.m[n]=s[n]);c&&c(i)}for(t&&t(r);u<a.length;u++)o=a[u],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunk_onlabsorg_olojs=self.webpackChunk_onlabsorg_olojs||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),window.olo=i(213)})();